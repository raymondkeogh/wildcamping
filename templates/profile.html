{% extends "base.html" %}

{% block styles %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row user_profile">
        <!-- Profile Bio -->
        <div class="col">
            <h2>
                {% if user.file %}
                <div class="profile_picture">
                    <img src="{{ user.file }}" alt="profile photo">
                </div>
                {% else%}
                <i class="fas fa-user"></i>
                {% endif %}
                {{ user.username }}
            </h2>
            <div class="person_card">
                {% if user.bio %}
                    {{user.bio}}
                {% else %}
                    <p>Add some information to your profile</p>
                {% endif %}
                <a href="{{ url_for('edit_profile') }}"><i class="fas fa-edit"></i></a>
            </div>
        </div>
        <!-- Profile favourite locations -->
        <div class="col locations">
            <h2><i class="fas fa-heart"></i> Favourite Places</h2>

            {% for record in locations %}
            <div class="row place_card">
                <div class="col s6">
                    <div class="location_name">
                        <h4>{{ record.name.capitalize() }}</h4>
                    </div><br>
                    <div class="location_longlat"> {{ record.location.capitalize() }}</div><br>
                    <strong>Rating: </strong>
                    {% for x in range(1, record.rating | int) %}
                    <span class="fa fa-star checked"></span>
                    {% endfor %}
                    <br><br>
                    Description: {{ record.description.capitalize() }}<br>
                    <br>
                </div>
                <div class="col s6"><img src="{{ record.file }}" alt=""></div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}

<script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxdWmLSSJTX3YKlDFZgrvzP5INfBoO1dI&callback=initMap&libraries=&v=weekly"
    async>
</script>

{% endblock %}